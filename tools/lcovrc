# SPDX-License-Identifier: LGPL-2.1-or-later
# SPDX-FileCopyrightText: 2018 Endless Mobile, Inc.

# lcov and genhtml configuration
# See https://github.com/linux-test-project/lcov/blob/HEAD/lcovrc
# Adapted from GLib's lcovrc

# Always enable branch coverage
lcov_branch_coverage = 1

# Exclude precondition assertions, as we can never reasonably get full branch
# coverage of them, as they should never normally fail.
# See https://github.com/linux-test-project/lcov/issues/44
lcov_excl_br_line = LCOV_EXCL_BR_LINE|g_return_if_fail|g_return_val_if_fail|g_assert|g_assert_

# Similarly for unreachable assertions.
lcov_excl_line = LCOV_EXCL_LINE|g_return_if_reached|g_return_val_if_reached|g_assert_not_reached

# Temporary, ignore error coming from GLib built as a subproject
ignore_errors = negative
